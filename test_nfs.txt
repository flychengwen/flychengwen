【1】服务端
apt install nfs-kernel-server
cat /proc/fs/nfsd/versions 
mkdir -p /opt/nfsv4/xiaoqiang
mkdir -p /opt/nfsv4/xiaoqiang 
systemctl restart nfs-kernel-server
systemctl enable nfs-kernel-server
showmount -e localhost
exportfs -rv

test@2004a:~$ cat /etc/exports 
/opt/nfsv4/xiaoqiang 192.168.56.*(rw,sync,no_subtree_check)
/mnt/sharefolder *(rw,sync,no_subtree_check

【2】客户端
//ubuntu自动挂载
apt install nfs-common
vi /etc/fstab 
192.168.56.121:/opt/nfsv4/xiaoqiang /data nfs defaults 1 1
192.168.56.121:/mnt/sharefolder /data1 nfs defaults 1 1
reboot

//centos手工挂载
nmcli connection add con-name "dhcp" type ethernet ifname enp0s3
nmcli connection up enp0s3
mount -t nfs -o nolock 192.168.56.121:/mnt/sharefolder /data

我在想一个问题，咱们这个步骤在其他地方是ok的，想来应该是没有什么技术性错误。
还是得关注下nfs client的log，  及nfs client的流程。
能否把 rpc的调试命令打进去，能够搞到更多的 内核打印。
rpcdebug -m nfs -s all

cat /etc/fstab
192.168.56.121:/opt/nfsv4/xiaoqiang /data nfs defaults,_netdev 1 1
192.168.56.121:/mnt/sharefolder /data1 nfs defaults,_netdev 1 1
_netdev表示主机无法股灾直接跳过，避免无法挂载，主机无法启动


附录：
root@2004a:/home/test# showmount -e
Export list for 2004a:
/mnt/sharefolder     *
/opt/nfsv4/xiaoqiang 192.168.56.*

root@2004a:/home/test# systemctl status portmap
● rpcbind.service - RPC bind portmap service
     Loaded: loaded (/lib/systemd/system/rpcbind.service; enabled; vendor preset: enabled)
     Active: active (running) since Fri 2022-02-18 03:45:38 UTC; 5h 5min ago
TriggeredBy: ● rpcbind.socket
       Docs: man:rpcbind(8)
   Main PID: 587 (rpcbind)
      Tasks: 1 (limit: 4612)
     Memory: 2.2M
     CGroup: /system.slice/rpcbind.service
             └─587 /sbin/rpcbind -f -w

Feb 18 03:45:37 2004a systemd[1]: Starting RPC bind portmap service...
Feb 18 03:45:38 2004a rpcbind[587]: cannot create socket for udp6
Feb 18 03:45:38 2004a rpcbind[587]: cannot create socket for tcp6
Feb 18 03:45:38 2004a systemd[1]: Started RPC bind portmap service.
root@2004a:/home/test# 
root@2004a:/home/test# 
root@2004a:/home/test# systemctl status nfs-kernel-server
● nfs-server.service - NFS server and services
     Loaded: loaded (/lib/systemd/system/nfs-server.service; enabled; vendor preset: enabled)
    Drop-In: /run/systemd/generator/nfs-server.service.d
             └─order-with-mounts.conf
     Active: active (exited) since Fri 2022-02-18 06:00:25 UTC; 2h 50min ago
    Process: 1778 ExecStartPre=/usr/sbin/exportfs -r (code=exited, status=0/SUCCESS)
    Process: 1779 ExecStart=/usr/sbin/rpc.nfsd $RPCNFSDARGS (code=exited, status=0/SUCCESS)
   Main PID: 1779 (code=exited, status=0/SUCCESS)

Feb 18 06:00:24 2004a systemd[1]: Starting NFS server and services...
Feb 18 06:00:25 2004a systemd[1]: Finished NFS server and services.
root@2004a:/home/test# 



https://www.shangmayuan.com/a/9ee8cf2076ef4457b6edc083.html
https://www.cnblogs.com/me80/p/7464125.html
https://www.cnblogs.com/findumars/p/6358251.html
https://www.cnblogs.com/derekchen/archive/2009/08/11/1543772.html